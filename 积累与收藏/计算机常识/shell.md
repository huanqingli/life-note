## shell
- 定义：把命令翻译成二进制码给linux内核的解释器，还是一个强大的脚本语言。
- 查看当前shell：`echo $SHELL` 可用的 shell 于 /etc/shells 文件内纪录
### 基础命令
- 基本格式：命令 [选项] [文件/目录/等]：不加目录默认操作当前目录 选项可以串联在一起用一个 - 就行
#### 文件处理
- 创建目录: `mkdir <目录名>` 选项 `-p` 递归创建
- 创建文件: `mkfile <文件名>` (macos)
- 查看文件类型: `file <文件名>`
- 查看当前目录: `pwd`
- 切换目录： `cd <目录名>`
- 查看目录下的文件: `ls`   
选项： `-a` 查看全部文件包括隐藏的  
`-l` 显示详细信息(还会查看上次访问文件的用户，解决权限问题)  
`-h` 人性化显示文件大小
`-i` 显示文件id
- 删除空目录: `rmdir <目录名>`
- 移除文件: `rm <文件>`  
选项： `-r` 递归删除，如果删除的是目录要带上， `-f`强制删除，不会询问  
提示： 当你使用带有通配符的rm命令时（除了仔细检查输入的内容外）， 先用 ls 命令来测试通配符。这会让你看到将要被删除的文件是什么。然后按下上箭头按键，重新调用 刚刚执行的命令，用 rm 替换 ls。
- 拷贝文件: `cp <从哪> <到哪>`  
选项：`-r` 递归复制，复制目录时需要用， `-a` 完全复制，一模一样， `-v` 更新目标文件中的内容。
- 移动: `mv <文件> <目录>` 如果都在同一目录下就是改名
- 创建文件链接: `ln -s <原文件/目录> <链接>` 类似创建快件方式 -s 是软连接,创建软连接时，原文件的路径是相对于连接而言的，或使用绝对路径
- 命令执行结果存入文件：`命令 > 文件名` > 会覆盖文件内容， >> 会在文件后面追加 这种方式不记录报错信息  
正确信息错误信息保存到同一个文件:`命令 &>> 文件名`   
正确信息错误信息分别保存：`命令>>文件A 2>>文件B`(不要空格)

#### 搜索文件
- 搜索文件：`locate <文件名>` 只能搜索文件名，但是很快
- 搜索系统命令(可执行文件): `whereis <命令名>` 可以找到可执行文件和帮助文档
- 搜索系统命令(可执行文件): `which <命令名>` 可以找到可执行文件和以该命令为别名的命令  
- 搜索文件：`find <搜索范围> <文件名>` 非常消耗系统资源，需要完全匹配，可用通配符  
选项 `-name` 搜索文件名， `-i` 忽略大小写
- 按时间搜索文件：`find <搜索范围> -<时间选项> -<时间>`  
时间选项: `-mtime` 修改文件内容时间 `-atime` 访问文件时间  
时间: +10 十天前，-10 十天之内，10 正好十天前那天
- 按大小搜索：`find <搜索范围> -size -<大小>`  
大小：-25k 小于25k的，+25k 大于25k，25k 正好25k，兆用大写的 M 千字节用小写的 k
- 按id号搜索：`find <搜索范围> -inum -<文件id>`  
`-a` 逻辑与 `-o`逻辑或 `-exec < 命令 > {}\` 对搜索结果执行命令
- 在文件中搜索符合条件的字符串：`grep <字符串> <文件名>` 模糊匹配即可  
选项：`-v` 排除某些字符串， `-i` 忽略大小写
- 统计命令：`wc` 统计文件或输入的内容。选项 -l 统计行数 
#### 获取帮助
- 帮助文档：`man <等级> <命令>` 该命令或其他内容的某等级的帮助文档
选项: `-f` 查看有那些级别的帮助信息 `-k` 查看所有包涵该字符的命令的帮助文档相当于模糊查询
- 查看命令可用的选项：`<命令> --help` 该命令可用的选项
- 内部命令帮助文档：`man <等级> <内部命令>` 查看 shell 内部命令的帮助文档
#### 压缩命令
- 压缩文件成zip：`zip <压缩后文件名> <源文件名>` 选项 `-r`压缩目录
- 解压zip格式文件： `unzip <压缩的文件名/目录名>`  
还有常用的 tar.gz 和 tar.bz2 

#### 其他命令
- 输出：`echo` 输出变量 `echo $变量名`
- 查看命令是哪来的： `type <命令>` which 只是找可执行程序的位置, whatis 简单介绍命令是干啥的
- 查看别名：`alias` 
- 设定别名：`alisa 别名='原名'` 这样设定是临时的，写入 ~/.bashrc 启动 bash 自动生效 unalias 删除别名
- 打印环境变量：`printenv`
- 查看历史命令：`history`
- 调用最后一条某字符串开头的历史命令：`!某字符串`
- 多命令顺序执行：`;` `&&` `||` 链接命令，`;`无论命令是否正确执行，接着往下执行。
- 管道符：`|` 链接命令，前一条命令的输出作为后一条命令的输入。`tee <文件名>` 把管道中的某个环节记录到该文件。
- 给变量赋值：`变量名＝值`
- 把命令执行结果赋值给变量：`变量名＝$(命令)`
- 查看数据盘:`df -h`, 包括未挂载的数据盘在内 `fdisk -l`
- 查看内存使用情况:`free -h`
- 查看服务器时间: `date` 日历 `cal`
- 查看系统登录用户: `w`
- 查看用户登陆历史: `last`
- 重启: `sudo reboot`
- 查看端口情况: `netstat -tpln`
- 查看某应用进程: `ps -ef |grep <应用名>`
- 退出 shell: `exit`
- 查看系统版本: `cat /etc/issue`
- 查看内核版本: `uname -a`或`cat /proc/version`
- 给所有人执行权限: `chmod a+x <命令>`  
其中 `u` 代表 用户, `g` 代表 组 , `o` 代表其他 ,`a` 代表全部  
中间的 `+` 代表 添加，`-` 代表 取消 , `=` 代表重设  
最后 `r` 代表 可读，`w` 代表 可写， `x` 代表可执行  


### 文本处理
[链接](https://learnbyexample.gitbooks.io/command-line-text-processing)

#### cat
- 参数 `-n` 给输出内容标号
- `cat > example.text` 之后开始写入文件，新一行 `ctrl + d` 退出保存
- `tac` 按行倒叙输出，`rev` 行内倒叙输出。
- `less` 查看大文件,是 `more` 的改进版本。
- `tail -n<n> <file>` 输出文件最后的 n 行。`-n <+n>` 是从第 n 行开始到最后。  
例如：`tail -n3 sample.txt` `tail -n +10 sample.txt`
- `head` 从头开始输出，用法同 tail

